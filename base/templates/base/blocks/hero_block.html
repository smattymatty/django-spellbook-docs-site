{% comment %} Main template: django_spellbook/blocks/hero_block.html {% endcomment %}
{% load spellbook_tags %}

<section
  class="sb-hero {{ layout_class }} {{ vertical_align_class }} {% if bg_color %}sb-bg-{{ bg_color }}{% endif %} {% if text_color %}sb-{{ text_color }}{% endif %} {% if custom_class %}{{ custom_class }}{% endif %}"
  {% if min_height != "auto" %}style="min-height: {{ min_height }};"{% endif %}
  {% if id %}id="{{ id }}"{% endif %}
>
    {% if layout == "text_left_image_right" %}
        {% include "base/blocks/hero_partials/text_left_image_right.html" with image_src=image_src image_alt=image_alt content=content custom_class=custom_class vertical_align_class=vertical_align_class min_height=min_height bg_color=bg_color text_bg_color=text_bg_color text_color=text_color only %}
    {% elif layout == "text_center_image_background" %}
        {% include "base/blocks/hero_partials/text_center_image_background.html" with image_src=image_src image_alt=image_alt content=content custom_class=custom_class vertical_align_class=vertical_align_class min_height=min_height bg_color=bg_color text_bg_color=text_bg_color text_color=text_color only %}
    {% elif layout == "text_only_centered" %}
        {% include "base/blocks/hero_partials/text_only_centered.html" with content=content custom_class=custom_class vertical_align_class=vertical_align_class min_height=min_height bg_color=bg_color text_bg_color=text_bg_color text_color=text_color only %}
    {% comment %} --- NEW LAYOUTS --- {% endcomment %}
    {% elif layout == "text_right_image_left" %}
        {% include "base/blocks/hero_partials/text_right_image_left.html" with image_src=image_src image_alt=image_alt content=content custom_class=custom_class vertical_align_class=vertical_align_class min_height=min_height bg_color=bg_color text_bg_color=text_bg_color text_color=text_color only %}
    {% elif layout == "image_top_text_bottom" %}
        {% include "base/blocks/hero_partials/image_top_text_bottom.html" with image_src=image_src image_alt=image_alt content=content custom_class=custom_class vertical_align_class=vertical_align_class min_height=min_height bg_color=bg_color text_bg_color=text_bg_color text_color=text_color only %}
    {% elif layout == "image_only_full" %}
        {% include "base/blocks/hero_partials/image_only_full.html" with image_src=image_src image_alt=image_alt content=content custom_class=custom_class vertical_align_class=vertical_align_class min_height=min_height bg_color=bg_color text_bg_color=text_bg_color text_color=text_color only %}

    {% else %}
    <p class="sb-error">HeroBlock Error: Unknown layout selected.</p>
  {% endif %}
</section>

<style>
    .sb-hero-video {
        display: block;
        width: 100%; /* Or max-width: 100% depending on desired scaling */
        height: auto;
        border-radius: var(--sb-border-radius-md, 0.375rem);
        object-fit: cover; /* If you want it to fill a specific aspect ratio box */
      }
      .sb-hero-layout--text-center-image-background .sb-hero-background-media-wrapper {
        position: absolute; /* Fills the parent .sb-hero which should be position:relative */
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden; /* Clips the video/image */
        z-index: 1;
    }
    .sb-hero-layout--text-center-image-background .sb-hero-background-video,
    .sb-hero-layout--text-center-image-background .sb-hero-background-image-actual {
        position: absolute;
        top: 50%;
        left: 50%;
        min-width: 100%;
        min-height: 100%;
        width: auto;
        height: auto;
        transform: translateX(-50%) translateY(-50%);
        object-fit: cover;
        background-size: cover;
        background-position: center;
        z-index: 1;
    }
    .sb-hero-full-bleed-video {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center center;
        z-index: 1;
      }
      /* The .sb-hero-layout--image-only-full would need position: relative */
      .sb-hero-video-embed-wrapper {
        position: relative;
        width: 100%;
        overflow: hidden;
        /* Common aspect ratios: */
        /* padding-top: 56.25%; 16:9 */
        /* padding-top: 75%;    4:3 */
      }
      .sb-hero-video-embed-wrapper.sb-aspect-video { /* Default to 16:9 if this class is used */
          padding-top: 56.25%;
      }
      
      .sb-hero-video-embed-wrapper iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: 0;
      }
    </style>