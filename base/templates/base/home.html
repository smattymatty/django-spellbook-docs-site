<!-- core/templates/home.html -->
{% extends 'base/base.html' %}
{% load static %}
{% load spellbook_tags %}
{% block title %}Django Spellbook - Documentation{% endblock %}
{% block extra_style %}
    <link rel="stylesheet" href="{% static 'css/home.css' %}">
{% endblock %}
{% block content %}
    <div class="padded-x-content">
        <div class="
        sb-flex sb-md:flex-row 
        sb-justify-center sb-items-center sb-gap-2
        "> <!-- This div holds both the EthicalAds and the content block -->
            <div class="magical-border">
                <div class="sb-flex">
                    <h2 class="sb-flex sb-grow">Django Markdown Content Management System</h2>
                    <div class="sb-flex sb-items-center sb-gap-2 sb-bg-black-25 sb-border-radius-xl">
                        {% include 'base/icon.svg' %}
                    </div>
                </div>
                
                <strong>A flexible content management extension for Django</strong>
                <p>
                    Django Spellbook extends Django's templating and rendering capabilities with a focus on markdown-based content. It transforms markdown files into fully-rendered Django templates with auto-generated views and URLs, eliminating boilerplate code while maintaining Django's flexibility.
                </p>
            </div>
            <div class="sb-flex sb-justify-center sb-items-center sb-gap-2">
                <!-- EthicalAds Image -->
                <div data-ea-publisher="django-spellbookorg" 
                    data-ea-type="image"
                    data-ea-keywords="django|python|cms|webdev|markdown|blog"
                    class="sb-my-3 sb-flex sb-justify-center">
                </div> <!-- End EthicalAds -->
            </div>
        </div>
        <div class="magical-border">
            <h3>Spells at your disposal:</h3>
            <ul class="spell-list">
                <li>
                    <a href="{% spellbook_url 'docs:Commands_spellbook_md' %}" class="spell-link">
                        <div class="spell-content">
                            <span class="spell-icon">ðŸª¶</span>
                            <code class="spell-title">python manage.py spellbook_md</code>
                            <ul class="border-radius-5-handler">
                                <li><strong>Auto-generation</strong>: Creates Django templates, views, and URL patterns from markdown files</li>
                                <li><strong>Extended Markdown</strong>: Django-inspired tag syntax for custom HTML attributes and structures</li>
                                <li><strong>Content Organization</strong>: Support for multiple source directories mapped to different Django apps</li>
                            </ul>
                        </div>
                    </a>
                </li>
                <li>
                    <a href="{% spellbook_url 'examples:rendering_by_function' %}" class="spell-link"> 
                        <div class="spell-content">
                            <span class="spell-icon">ðŸª¶</span>
                            <code class="spell-title">from django_spellbook.parsers import render_spellbook_markdown_to_html</code>
                            <ul class="border-radius-5-handler">
                                <li><strong>Markdown String Processing</strong>: Takes a raw Python string containing markdown text as its primary input.</li>
                                <li><strong>SpellBlock Recognition</strong>: Intelligently parses and processes any embedded <code>{~ SpellBlock ~}</code> tags (like <code>{~ card ~}</code> or <code>{~ alert ~}</code>) and their parameters found within the markdown string.</li>
                                <li><strong>HTML Output Generation</strong>: Converts the input markdown and fully resolved SpellBlocks into a single HTML string, ready to be injected into your Django templates.</li>
                                <li><strong>Direct View Integration</strong>: Enables developers to leverage `django-spellbook`'s core rendering power directly within custom Django views for flexible and dynamic content presentation.</li>
                            </ul>
                        </div>
                    </a>
                </li>
                <div style="display:none">
                    {% verbatim %}
                        <li>
                            <a href="#" class="spell-link">
                                <div class="spell-content">
                                    <span class="spell-icon">ðŸª„</span>
                                    <code class="spell-title">{% invoke 'action' 'bound_element_id' 'config' %}</code>
                                    <ul class="border-radius-5-handler">
                                        <li>Define dynamic behavior for template elements without writing JavaScript.</li>
                                        <li>Perform actions like toggling classes, styles, or attributes based on conditions.</li>
                                        <li>Supports advanced configurations for events like `on-click`, `on-load`, and custom targets.</li>
                                    </ul>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="spell-link">
                                <div class="spell-content">
                                    <span class="spell-icon">âŒ›</span>
                                    <code class="spell-title">{% lazy_include 'template_name' 'bound_element_id' 'config' %}</code>
                                    <ul class="border-radius-5-handler">
                                        <li>Load heavy or secondary templates only when visible or triggered by an event.</li>
                                        <li>Integrates seamlessly with HTMX or custom triggers like scrolling or button clicks.</li>
                                        <li>Improves performance by deferring content rendering until it's needed.</li>
                                    </ul>
                                </div>
                            </a>
                        </li>
                    {% endverbatim %}
                </div>
            </ul>
        </div>
        <div class="magical-border">
            <h3>Get Started in Minutes</h3>
            <p>Django Spellbook integrates with your project by generating server-side code from markdown content:</p>
            <pre class="home-pre">pip install django-spellbook</pre>
            <p>Configure with these essential settings:</p>
            <code class="home-code">
                <pre>
INSTALLED_APPS = [
    'django_spellbook',
    'my_app', # for SPELLBOOK_MD_APP
]

# necessary for markdown parsing
SPELLBOOK_MD_PATH = BASE_DIR / 'markdown_files'
SPELLBOOK_MD_APP = 'my_app'

# optional for markdown parsing
SPELLBOOK_MD_BASE_TEMPLATE = '<a class="in-code-link" href="https://github.com/smattymatty/django_spellbook/blob/main/django_spellbook/templates/django_spellbook/bases/sidebar_left.html">django_spellbook/bases/base_sidebar_left.html</a>'
        </pre>
            </code>
            <a href="{% spellbook_url 'docs:Markdown_quick-start' %}" class="cta-button">View Quick Start Guide</a>
        </div>
    </div>
{% endblock %}
